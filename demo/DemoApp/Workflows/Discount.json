[
  {
    "WorkflowName": "Discount",
    "Rules": [
      {
        "RuleName": "GiveDiscount10",
        "SuccessEvent": "10",
        "ErrorMessage": "One or more adjust rules failed.",
        "ErrorType": "Error",
        "RuleExpressionType": "LambdaExpression",
        "Expression": "input1.country == \"india\" AND input1.loyalityFactor <= 2 AND input1.totalPurchasesToDate >= 5000 AND input2.totalOrders > 2 AND input3.noOfVisitsPerMonth > 2"
      },
      {
        "RuleName": "GiveDiscount20",
        "SuccessEvent": "20",
        "ErrorMessage": "One or more adjust rules failed.",
        "ErrorType": "Error",
        "RuleExpressionType": "LambdaExpression",
        "Expression": "input1.country == \"india\" AND input1.loyalityFactor == 3 AND input1.totalPurchasesToDate >= 10000 AND input2.totalOrders > 2 AND input3.noOfVisitsPerMonth > 2"
      },
      {
        "RuleName": "GiveDiscount25",
        "SuccessEvent": "25",
        "ErrorMessage": "One or more adjust rules failed.",
        "ErrorType": "Error",
        "RuleExpressionType": "LambdaExpression",
        "Expression": "input1.country != \"india\" AND input1.loyalityFactor >= 2 AND input1.totalPurchasesToDate >= 10000 AND input2.totalOrders > 2 AND input3.noOfVisitsPerMonth > 5"
      },
      {
        "RuleName": "GiveDiscount30",
        "SuccessEvent": "30",
        "ErrorMessage": "One or more adjust rules failed.",
        "ErrorType": "Error",
        "RuleExpressionType": "LambdaExpression",
        "Expression": "input1.loyalityFactor > 3 AND input1.totalPurchasesToDate >= 50000 AND input1.totalPurchasesToDate <= 100000 AND input2.totalOrders > 5 AND input3.noOfVisitsPerMonth > 15"
      },
      {
        "RuleName": "GiveDiscount30NestedOrExample",
        "SuccessEvent": "30",
        "ErrorMessage": "One or more adjust rules failed.",
        "ErrorType": "Error",
        "Operator": "OrElse",
        "Rules":[
          {
            "RuleName": "IsLoyalAndHasGoodSpend",
            "ErrorMessage": "One or more adjust rules failed.",
            "ErrorType": "Error",
            "RuleExpressionType": "LambdaExpression",
            "Expression": "input1.loyalityFactor > 3 AND input1.totalPurchasesToDate >= 50000 AND input1.totalPurchasesToDate <= 100000"
          },
          {
            "RuleName": "OrHasHighNumberOfTotalOrders",
            "ErrorMessage": "One or more adjust rules failed.",
            "ErrorType": "Error",
            "RuleExpressionType": "LambdaExpression",
            "Expression": "input2.totalOrders > 15"
          }
        ]
      },
      {
        "RuleName": "GiveDiscount35NestedAndExample",
        "SuccessEvent": "35",
        "ErrorMessage": "One or more adjust rules failed.",
        "ErrorType": "Error",
        "Operator": "AndAlso",
        "Rules": [
          {
            "RuleName": "IsLoyal",
            "ErrorMessage": "One or more adjust rules failed.",
            "ErrorType": "Error",
            "RuleExpressionType": "LambdaExpression",
            "Expression": "input1.loyalityFactor > 3"
          },
          {
            "RuleName": "AndHasTotalPurchased100000",
            "ErrorMessage": "One or more adjust rules failed.",
            "ErrorType": "Error",
            "RuleExpressionType": "LambdaExpression",
            "Expression": "input1.totalPurchasesToDate >= 100000"
          },
          {
            "RuleName": "AndOtherConditions",
            "ErrorMessage": "One or more adjust rules failed.",
            "ErrorType": "Error",
            "RuleExpressionType": "LambdaExpression",
            "Expression": "input2.totalOrders > 15 AND input3.noOfVisitsPerMonth > 25"
          }
        ]
      },
      {
        "RuleName": "GiveDiscount40LocalParamsExample",
        "SuccessEvent": "40",
        "ErrorMessage": "One or more adjust rules failed.",
        "ErrorType": "Error",
        "localParams": [
          {
            "name": "IsLoyaltyFactor3",
            "expression": "input1.loyalityFactor > 3"
          },
          {
            "name": "IsTotalPurchaseBetween100000And200000",
            "expression": "input1.totalPurchasesToDate >= 100000 AND input1.totalPurchasesToDate <= 200000"
          },
          {
            "name": "IsTotalOrdersMoreThan10",
            "expression": "input2.totalOrders > 10"
          }
        ],
        "RuleExpressionType": "LambdaExpression",
        "Expression": "IsLoyaltyFactor3 AND IsTotalPurchaseBetween100000And200000 AND IsTotalOrdersMoreThan10"
      },
      {
        "RuleName": "GiveCustomDiscountSuccessEventExpressionExample",
        "SuccessEvent": "$(SuccessEventResult)",
        "ErrorMessage": "One or more adjust rules failed.",
        "ErrorType": "Error",
        "localParams": [
          {
            "name": "IsTotalPurchaseLessThan100",
            "expression": "input1.totalPurchasesToDate <= 100"
          },
          {
            "name": "IsNoOfVisitsMoreThan100",
            "expression": "input3.noOfVisitsPerMonth > 100"
          },
          {
            "name": "SuccessEventResult",
            "expression": "IsTotalPurchaseLessThan100 AND input2.currentCartOrderValue < 100 ? 20 : (100 * 20 / input2.currentCartOrderValue)"
          }
        ],
        "RuleExpressionType": "LambdaExpression",
        "Expression": "IsNoOfVisitsMoreThan100"
      }
    ]
  }
]